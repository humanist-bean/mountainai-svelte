import{s as q,v as lt,n as at,C as z,g,l as ct,h as v,i as B,m as rt,k as b,A,j as J,c as U,q as W,d as D,p as N,r as pt}from"./scheduler.9341ea61.js";import{p as K,u as Q,m as Y,g as ut,o as $,b as j,s as L,G as x,c as tt,d as et,e as P,a as ft}from"./header.8449f224.js";import{S as V,i as H,d as E,v as G,e as p,g as m,a as w,n as R,o as I,h as gt,t as nt,c as vt,b as st,p as M}from"./index.66f07722.js";import{g as ot}from"./navigation.d88271c3.js";import{w as dt}from"./index.9eb50c3c.js";const O=dt(!1);const{console:bt}=ut,T="src/routes/MtnBtn.svelte";function X(r){let t,e,s,d,c,_,o;const i={c:function(){t=g("div"),e=g("form"),s=g("label"),d=ct(`Choose File\r
            `),c=g("input"),this.h()},l:function(a){t=v(a,"DIV",{});var h=B(t);e=v(h,"FORM",{class:!0,method:!0});var y=B(e);s=v(y,"LABEL",{});var l=B(s);d=rt(l,`Choose File\r
            `),c=v(l,"INPUT",{class:!0,name:!0,id:!0,type:!0,accept:!0}),l.forEach(p),y.forEach(p),h.forEach(p),this.h()},h:function(){m(c,"class","hidden-input s-yUZs8pZ_Ck3y"),m(c,"name","mtn-img"),m(c,"id","upload"),m(c,"type","file"),m(c,"accept","image/*"),c.hidden=!0,b(c,T,53,12,1601),b(s,T,51,8,1555),m(e,"class","mtn-upload-btn s-yUZs8pZ_Ck3y"),m(e,"method","POST"),b(e,T,50,4,1502),b(t,T,49,0,1491)},m:function(a,h){w(a,t,h),R(t,e),R(e,s),R(s,d),R(s,c),_||(o=I(c,"change",r[4]),_=!0)},p:A,i:A,o:A,d:function(a){a&&p(t),_=!1,o()}};return E("SvelteRegisterBlock",{block:i,id:X.name,type:"component",source:"",ctx:r}),i}function kt(r,t,e){let s;lt(O,"user_store"),at(r,O,l=>e(3,s=l));let{$$slots:d={},$$scope:c}=t;G("MtnBtn",d,[]);const _=z();let o=!1,i;function n(){ot("/result")}let a;const h=[];Object.keys(t).forEach(l=>{!~h.indexOf(l)&&l.slice(0,2)!=="$$"&&l!=="slot"&&bt.warn(`<MtnBtn> was created with unknown prop '${l}'`)});function y(){a=this.files,e(0,a),e(1,o),e(2,i),e(3,s)}return r.$capture_state=()=>({createEventDispatcher:z,goto:ot,user_store:O,prediction_store:K,uploadPhoto:Q,makePrediction:Y,dispatch:_,loggedIn:o,user_id:i,finishedFileUploads:n,files:a,$user_store:s}),r.$inject_state=l=>{"loggedIn"in l&&e(1,o=l.loggedIn),"user_id"in l&&e(2,i=l.user_id),"files"in l&&e(0,a=l.files)},t&&"$$inject"in t&&r.$inject_state(t.$$inject),r.$$.update=()=>{r.$$.dirty&8&&(s?(e(1,o=!0),e(2,i=s.uid)):(e(1,o=!1),e(2,i="0"))),r.$$.dirty&7&&a&&a[0]&&(console.log(a[0].name),Y(a[0]).then(l=>{K.set(l)}).catch(l=>console.log("There was an error making the prediction: ",l)),o&&Q(a[0],o,i),e(0,a=null),n())},[a,o,i,s,y]}class Lt extends V{constructor(t){super(t),H(this,t,kt,X,q,{}),E("SvelteRegisterComponent",{component:this,tagName:"MtnBtn",options:t,id:X.name})}}const it="src/routes/MountainLogo.svelte";function F(r){let t,e,s,d,c;const _={c:function(){t=g("article"),e=g("h1"),s=ct("Mountain AI"),this.h()},l:function(i){t=v(i,"ARTICLE",{class:!0});var n=B(t);e=v(n,"H1",{style:!0,class:!0});var a=B(e);s=rt(a,"Mountain AI"),a.forEach(p),n.forEach(p),this.h()},h:function(){J(e,"--logo_size",r[0]),m(e,"class","s-9eCoTt0bE3Z3"),b(e,it,15,4,367),m(t,"class","s-9eCoTt0bE3Z3"),b(t,it,14,0,352)},m:function(i,n){w(i,t,n),R(t,e),R(e,s),d||(c=I(e,"click",r[1],!1,!1,!1,!1),d=!0)},p:function(i,[n]){n&1&&J(e,"--logo_size",i[0])},i:A,o:A,d:function(i){i&&p(t),d=!1,c()}};return E("SvelteRegisterBlock",{block:_,id:F.name,type:"component",source:"",ctx:r}),_}function yt(r,t,e){let{$$slots:s={},$$scope:d}=t;G("MountainLogo",s,[]);const c=z();function _(){c("clicked-home-btn")}let{logo_size:o=3}=t;const i=["logo_size"];return Object.keys(t).forEach(n=>{!~i.indexOf(n)&&n.slice(0,2)!=="$$"&&n!=="slot"&&console.warn(`<MountainLogo> was created with unknown prop '${n}'`)}),r.$$set=n=>{"logo_size"in n&&e(0,o=n.logo_size)},r.$capture_state=()=>({createEventDispatcher:z,dispatch:c,clickedHomeBtn:_,logo_size:o}),r.$inject_state=n=>{"logo_size"in n&&e(0,o=n.logo_size)},t&&"$$inject"in t&&r.$inject_state(t.$$inject),[o,_]}class Mt extends V{constructor(t){super(t),H(this,t,yt,F,q,{logo_size:0}),E("SvelteRegisterComponent",{component:this,tagName:"MountainLogo",options:t,id:F.name})}get logo_size(){throw new Error("<MountainLogo>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set logo_size(t){throw new Error("<MountainLogo>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:wt}=ut,S="src/routes/Auth.svelte";function _t(r){let t,e="Sign In",s,d,c,_,o,i,n,a='Click "Sign In" to Sign in/up with an existing google account',h,y,l;const k={c:function(){t=g("button"),t.textContent=e,d=U(),c=g("br"),_=g("br"),o=U(),i=g("div"),n=g("h2"),n.textContent=a,this.h()},l:function(f){t=v(f,"BUTTON",{class:!0,id:!0,["data-svelte-h"]:!0}),W(t)!=="svelte-1kyqd1b"&&(t.textContent=e),d=D(f),c=v(f,"BR",{}),_=v(f,"BR",{}),o=D(f),i=v(f,"DIV",{class:!0});var C=B(i);n=v(C,"H2",{class:!0,["data-svelte-h"]:!0}),W(n)!=="svelte-1g8yq7j"&&(n.textContent=a),C.forEach(p),this.h()},h:function(){m(t,"class","mtn-auth-btn s-OtWvLuRSXbvp"),m(t,"id","upload"),b(t,S,82,8,3061),b(c,S,85,8,3207),b(_,S,85,13,3212),m(n,"class","s-OtWvLuRSXbvp"),b(n,S,86,13,3232),m(i,"class","s-OtWvLuRSXbvp"),b(i,S,86,8,3227)},m:function(f,C){w(f,t,C),w(f,d,C),w(f,c,C),w(f,_,C),w(f,o,C),w(f,i,C),R(i,n),h=!0,y||(l=I(t,"click",r[6],!1,!1,!1,!1),y=!0)},p:A,i:function(f){h||(f&&N(()=>{h&&(s||(s=M(t,L,{},!0)),s.run(1))}),h=!0)},o:function(f){f&&(s||(s=M(t,L,{},!1)),s.run(0)),h=!1},d:function(f){f&&(p(t),p(d),p(c),p(_),p(o),p(i)),f&&s&&s.end(),y=!1,l()}};return E("SvelteRegisterBlock",{block:k,id:_t.name,type:"else",source:"(82:4) {:else}",ctx:r}),k}function ht(r){let t,e,s="Dashboard",d,c,_,o,i="Sign Out",n,a,h,y;const l={c:function(){t=g("a"),e=g("button"),e.textContent=s,_=U(),o=g("button"),o.textContent=i,this.h()},l:function(u){t=v(u,"A",{href:!0,class:!0});var f=B(t);e=v(f,"BUTTON",{class:!0,id:!0,["data-svelte-h"]:!0}),W(e)!=="svelte-1n4sxi5"&&(e.textContent=s),f.forEach(p),_=D(u),o=v(u,"BUTTON",{class:!0,id:!0,["data-svelte-h"]:!0}),W(o)!=="svelte-rl5r37"&&(o.textContent=i),this.h()},h:function(){m(e,"class","mtn-auth-btn s-OtWvLuRSXbvp"),m(e,"id","upload"),b(e,S,74,12,2733),m(t,"href",c="/dashboard/"+r[0].uid),m(t,"class","s-OtWvLuRSXbvp"),b(t,S,73,8,2679),m(o,"class","mtn-auth-btn s-OtWvLuRSXbvp"),m(o,"id","upload"),b(o,S,78,8,2901)},m:function(u,f){w(u,t,f),R(t,e),w(u,_,f),w(u,o,f),a=!0,h||(y=[I(e,"click",r[4],!1,!1,!1,!1),I(o,"click",r[5],!1,!1,!1,!1)],h=!0)},p:function(u,f){(!a||f&1&&c!==(c="/dashboard/"+u[0].uid))&&m(t,"href",c)},i:function(u){a||(u&&N(()=>{a&&(d||(d=M(e,L,{},!0)),d.run(1))}),u&&N(()=>{a&&(n||(n=M(o,L,{},!0)),n.run(1))}),a=!0)},o:function(u){u&&(d||(d=M(e,L,{},!1)),d.run(0)),u&&(n||(n=M(o,L,{},!1)),n.run(0)),a=!1},d:function(u){u&&(p(t),p(_),p(o)),u&&d&&d.end(),u&&n&&n.end(),h=!1,pt(y)}};return E("SvelteRegisterBlock",{block:l,id:ht.name,type:"if",source:"(73:4) {#if ($user_store !== false)}",ctx:r}),l}function Z(r){let t,e,s;const d=[ht,_t],c=[];function _(i,n){return i[0]!==!1?0:1}e=_(r),s=c[e]=d[e](r);const o={c:function(){t=g("div"),s.c(),this.h()},l:function(n){t=v(n,"DIV",{"data-sveltekit-preload-data":!0,class:!0});var a=B(t);s.l(a),a.forEach(p),this.h()},h:function(){m(t,"data-sveltekit-preload-data","off"),m(t,"class","s-OtWvLuRSXbvp"),b(t,S,71,0,2595)},m:function(n,a){w(n,t,a),c[e].m(t,null)},p:function(n,[a]){let h=e;e=_(n),e===h?c[e].p(n,a):(gt(),nt(c[h],1,1,()=>{c[h]=null}),vt(),s=c[e],s?s.p(n,a):(s=c[e]=d[e](n),s.c()),st(s,1),s.m(t,null))},i:function(n){st(s)},o:function(n){nt(s)},d:function(n){n&&p(t),c[e].d()}};return E("SvelteRegisterBlock",{block:o,id:Z.name,type:"component",source:"",ctx:r}),o}function Ct(r,t,e){let s;lt(O,"user_store"),at(r,O,l=>e(0,s=l));let{$$slots:d={},$$scope:c}=t;G("Auth",d,[]);async function _(l){const k=new x;tt(l,k).then(u=>{x.credentialFromResult(u).accessToken,console.log(`IN Auth.svelte auth.currentUser = ${l.currentUser}`)}).catch(u=>{console.log(u),u.code,u.message,x.credentialFromError(u)})}async function o(){console.log("Clicked View Dashboard Button"),P()}async function i(l){et(l).then(()=>{console.log("Successfully signed out.")}).catch(k=>{console.log(k)})}$(j,l=>{l?O.set(l):O.set(!1)});const n=[];Object.keys(t).forEach(l=>{!~n.indexOf(l)&&l.slice(0,2)!=="$$"&&l!=="slot"&&wt.warn(`<Auth> was created with unknown prop '${l}'`)});const a=()=>o(),h=()=>i(j),y=()=>_(j);return r.$capture_state=()=>({auth:j,slide:L,onAuthStateChanged:$,GoogleAuthProvider:x,signInWithPopup:tt,signOut:et,user_store:O,show_header:P,hide_header:ft,signInWrapper:_,clickedDashboard:o,signOutWrapper:i,$user_store:s}),[s,_,o,i,a,h,y]}class At extends V{constructor(t){super(t),H(this,t,Ct,Z,q,{}),E("SvelteRegisterComponent",{component:this,tagName:"Auth",options:t,id:Z.name})}}const mt=dt(!1);function It(){console.log("show_results_page fired"),mt.set(!0),P()}function jt(){console.log("hide_results_page fired"),mt.set(!1),ft()}export{At as A,Mt as M,Lt as a,jt as h,mt as r,It as s,O as u};
